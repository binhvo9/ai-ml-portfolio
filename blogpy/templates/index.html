{% extends "base.html" %}

{% block content %}
  <div class="toolbar">
    <h2>All Posts</h2>
    <a class="btn" href="{{ url_for('new_post') }}">â• New Post</a>
  </div>

  {% if not posts %}
    <p>No posts yet. Click â€œNew Postâ€ to add one! ğŸš€</p>
  {% else %}
    <ul class="post-list">
      {% for p in posts %}
        <li class="card">
          <h3>{{ p.title }}</h3>

          <!-- TÃ“M Táº®T 1 CÃ‚U: dá»… Ä‘á»c nhanh -->
          <p class="summary">{{ p.summary }}</p>

          <!-- ÄOáº N TRÃCH 200 kÃ½ tá»±: váº«n giá»¯ -->
          <p class="excerpt">
            {{ p.content[:200] }}{% if p.content|length > 200 %}â€¦{% endif %}
          </p>

          <!-- TAGS: badge nhá» nhá» -->
          {% if p.tags %}
            <div class="tags">
              {% for t in p.tags %}
                <span class="tag">#{{ t }}</span>
              {% endfor %}
            </div>
          {% endif %}

          <div class="row-actions">
            <a class="btn ghost" href="{{ url_for('edit_post', post_id=p.id) }}">âœï¸ Edit</a>
            <form action="{{ url_for('delete_post', post_id=p.id) }}" method="post" onsubmit="return confirm('Delete this post?');" style="display:inline;">
              <button class="btn danger" type="submit">ğŸ—‘ï¸ Delete</button>
            </form>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% endif %}
{% endblock %}
